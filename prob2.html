<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Problem 2 — EER Diagram (HTML + SVG)</title>
  <style>
    body { font-family: Inter, Arial, Helvetica, sans-serif; background:#f6f8fa; color:#111; padding:24px; }
    h1 { font-size:20px; margin-bottom:12px; }
    .canvas { background: white; border-radius:12px; box-shadow:0 6px 18px rgba(21,30,50,0.08); padding:18px; }
    svg { width:100%; height:600px; display:block; }
    .entity { fill:#ffffff; stroke:#0f1724; stroke-width:1.5px; rx:6; }
    .etype { fill:#f3f4f6; stroke:#0f1724; stroke-width:1px; rx:6; }
    .label { font-size:13px; font-weight:600; }
    .att { font-size:12px; }
    .edge { stroke:#0f1724; stroke-width:1.2px; }
    .dash { stroke-dasharray:4 3; }
    .disc { font-size:11px; fill:#0f1724; font-weight:600; }
    .note { font-size:12px; fill:#334155; }
    .btn { display:inline-block; margin-top:12px; background:#0ea5a4; color:white; padding:8px 12px; border-radius:8px; text-decoration:none; }
  </style>
</head>
<body>
  <div class="canvas">
    <h1>Problem 2 — EER Diagram (Subtype Discriminators)</h1>
    <p class="note">This single-file HTML renders an SVG EER diagram for Problem 2. Entities show attributes and subtype discriminators are labeled on the connecting edges.</p>

    <svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="EER diagram for Problem 2">
      <!-- PERSON box (supertype) -->
      <rect x="380" y="40" width="240" height="110" class="entity" />
      <text x="500" y="68" text-anchor="middle" class="label">PERSON</text>
      <text x="500" y="88" text-anchor="middle" class="att">(PersonID, Name, DOB, Address, Phone)</text>
      <text x="500" y="106" text-anchor="middle" class="att">PersonType (discriminator)</text>

      <!-- EMPLOYEE, ALUMNUS, STUDENT boxes -->
      <rect x="120" y="220" width="210" height="72" class="etype" />
      <text x="225" y="248" text-anchor="middle" class="label">EMPLOYEE</text>
      <text x="225" y="268" text-anchor="middle" class="att">(EmployeeType)</text>

      <rect x="395" y="220" width="210" height="46" class="etype" />
      <text x="500" y="246" text-anchor="middle" class="label">ALUMNUS</text>

      <rect x="670" y="220" width="210" height="72" class="etype" />
      <text x="775" y="248" text-anchor="middle" class="label">STUDENT</text>
      <text x="775" y="268" text-anchor="middle" class="att">(StudentType)</text>

      <!-- FACULTY & STAFF under EMPLOYEE -->
      <rect x="60" y="360" width="140" height="46" class="entity" />
      <text x="130" y="388" text-anchor="middle" class="label">FACULTY</text>

      <rect x="180" y="360" width="140" height="46" class="entity" />
      <text x="250" y="388" text-anchor="middle" class="label">STAFF</text>

      <!-- GRAD & UNDERGRAD under STUDENT -->
      <rect x="640" y="360" width="180" height="46" class="entity" />
      <text x="730" y="388" text-anchor="middle" class="label">GRADUATE STUDENT</text>

      <rect x="820" y="360" width="180" height="46" class="entity" />
      <text x="910" y="388" text-anchor="middle" class="label">UNDERGRAD STUDENT</text>

      <!-- Edges from PERSON to subtypes -->
      <line x1="500" y1="150" x2="225" y2="220" class="edge" />
      <text x="360" y="184" class="disc">PersonType = Employee</text>

      <line x1="500" y1="150" x2="505" y2="220" class="edge" />
      <text x="512" y="184" class="disc">PersonType = Alumnus</text>

      <line x1="500" y1="150" x2="775" y2="220" class="edge" />
      <text x="640" y="184" class="disc">PersonType = Student</text>    

      <!-- Edges from EMPLOYEE to FACULTY & STAFF -->
      <line x1="225" y1="292" x2="130" y2="360" class="edge dash" />
      <text x="160" y="330" class="disc">EmployeeType = Faculty</text>

      <line x1="225" y1="292" x2="250" y2="360" class="edge dash" />
      <text x="210" y="330" class="disc">EmployeeType = Staff</text>

      <!-- Edges from STUDENT to GRAD & UNDERGRAD -->
      <line x1="775" y1="292" x2="730" y2="360" class="edge dash" />
      <text x="745" y="330" class="disc">StudentType = Grad</text>

      <line x1="775" y1="292" x2="910" y2="360" class="edge dash" />
      <text x="800" y="330" class="disc">StudentType = Undergrad</text>

      <!-- Specialization triangle indicators -->
      <polygon points="475,210 525,210 500,235" fill="#111827" opacity="0.06" />
      <text x="500" y="232" text-anchor="middle" class="note">(specialization)</text>

      <!-- Legend -->
      <rect x="24" y="16" width="260" height="84" rx="8" fill="#f8fafc" stroke="#e6eef2" />
      <text x="36" y="38" class="label">Legend</text>
      <text x="36" y="58" class="note">• Bold attribute on PERSON = discriminator</text>
      <text x="36" y="74" class="note">• Dashed edges = subtype-value mapping</text>

    </svg>

    <a class="btn" href="#" onclick="downloadSVG(); return false;">Download SVG</a>

    <script>
      function downloadSVG(){
        const svg = document.querySelector('svg');
        const serializer = new XMLSerializer();
        const source = serializer.serializeToString(svg);
        const blob = new Blob([source], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'problem2_eer.svg';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }
    </script>

  </div>
</body>
</html>